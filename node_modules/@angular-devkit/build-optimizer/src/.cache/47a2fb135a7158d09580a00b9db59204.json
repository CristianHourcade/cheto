{"remainingRequest":"/opt/lampp/htdocs/dashboard/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/opt/lampp/htdocs/dashboard/node_modules/mercadopago/lib/validation.js","dependencies":[{"path":"/opt/lampp/htdocs/dashboard/node_modules/mercadopago/lib/validation.js","mtime":1528162934000},{"path":"/opt/lampp/htdocs/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/opt/lampp/htdocs/dashboard/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["var Ajv = require('ajv');\n\nvar validationModule = module.exports = {\n  ajv: new Ajv({\n    allErrors: true,\n    coerceTypes: false, // (https://www.npmjs.com/package/ajv#coercing-data-types)\n    // Remove additional properties if the schema haves additionalProperties = true\n    removeAdditional: false // (https://www.npmjs.com/package/ajv#filtering-data)\n  })\n};\n\n/**\n * Validate the data that is going to be send to API using a JSON Schema\n * @param schema\n * @param data\n * @returns {Array}\n */\nvalidationModule.validate = function (schema, data) {\n  var validate = this.ajv.compile(schema);\n  var isValid = validate(data);\n  var validationErrors = [];\n\n  // Only warn about additionalProperties sended (Do not block code execution)\n  if (!isValid) {\n    validate.errors.forEach(function (error) {\n      if (error.keyword === 'additionalProperties') {\n        console.warn('MercadoPago SDK: \"' + error.params.additionalProperty + '\": is not a valid property.');\n      } else {\n        validationErrors.push(error);\n      }\n    });\n  }\n\n  return validationErrors;\n};\n\n/**\n * Generate error message using the response from AJV\n * @param errors\n * @returns {string}\n */\nvalidationModule.generateErrorMessage = function (errors) {\n  var message = 'The next fields are failing on validation:';\n\n  errors.forEach(function (error) {\n    message += ' \"' + error.dataPath + '\": ' + error.message + '.';\n  });\n\n  return message;\n};\n",null]}